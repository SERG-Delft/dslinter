<!doctype html><html lang=en dir=auto>
<head><meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge">
<meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no">
<meta name=robots content="index, follow">
<title>Code Smells | DSLinter - Linter for Machine Learning - Specific Code Smells</title>
<meta name=keywords content>
<meta name=description content="Code Smells - DSLinter - Linter for Machine Learning - Specific Code Smells">
<meta name=author content>
<link rel=canonical href=https://hynn01.github.io/dslinter/code-smells/>
<meta name=google-site-verification content="XYZabc">
<meta name=yandex-verification content="XYZabc">
<meta name=msvalidate.01 content="XYZabc">
<link crossorigin=anonymous href=/dslinter/assets/css/stylesheet.min.548091f41dc92b4a213f8dc4a49e22545a96b7d1b4ae4ad73c2ab3a70e4e8ea1.css integrity="sha256-VICR9B3JK0ohP43EpJ4iVFqWt9G0rkrXPCqzpw5OjqE=" rel="preload stylesheet" as=style>
<link rel=icon href=https://hynn01.github.io/dslinter/%3Clink%20/%20abs%20url%3E>
<link rel=icon type=image/png sizes=16x16 href=https://hynn01.github.io/dslinter/%3Clink%20/%20abs%20url%3E>
<link rel=icon type=image/png sizes=32x32 href=https://hynn01.github.io/dslinter/%3Clink%20/%20abs%20url%3E>
<link rel=apple-touch-icon href=https://hynn01.github.io/dslinter/%3Clink%20/%20abs%20url%3E>
<link rel=mask-icon href=https://hynn01.github.io/dslinter/%3Clink%20/%20abs%20url%3E>
<meta name=theme-color content="#2e2e33">
<meta name=msapplication-TileColor content="#2e2e33">
<meta name=generator content="Hugo 0.91.0">
<link rel=alternate type=application/rss+xml href=https://hynn01.github.io/dslinter/code-smells/index.xml>
<noscript>
<style>#theme-toggle,.top-link{display:none}</style>
</noscript><meta property="og:title" content="Code Smells">
<meta property="og:description" content>
<meta property="og:type" content="website">
<meta property="og:url" content="https://hynn01.github.io/dslinter/code-smells/"><meta property="og:site_name" content="DSLinter - Linter for Machine Learning Application - Specific Code Smells">
<meta name=twitter:card content="summary">
<meta name=twitter:title content="Code Smells">
<meta name=twitter:description content>
<script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Code Smells","item":"https://hynn01.github.io/dslinter/code-smells/"}]}</script>
</head>
<body class=list id=top>
<script>localStorage.getItem("pref-theme")==="dark"&&document.body.classList.add('dark')</script>
<header class=header>
<nav class=nav>
<div class=logo>
<a href=https://hynn01.github.io/dslinter/ accesskey=h title="DSLinter - Linter for Machine Learning - Specific Code Smells (Alt + H)">DSLinter - Linter for Machine Learning - Specific Code Smells</a>
<span class=logo-switches>
<button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg>
</button>
</span>
</div>
<ul id=menu>
<li>
<a href=https://hynn01.github.io/dslinter/code-smells/ title="Code Smells">
<span class=active>Code Smells</span>
</a>
</li>
<li>
<a href=https://hynn01.github.io/dslinter/search/ title="Search (Alt + /)" accesskey=/>
<span>Search</span>
</a>
</li>
<li>
<a href=https://hynn01.github.io/dslinter/ title=Survey>
<span>Survey</span>
</a>
</li>
<li>
<a href=https://hynn01.github.io/dslinter/tags/ title=Tags>
<span>Tags</span>
</a>
</li>
</ul>
</nav>
</header>
<main class=main>
<header class=page-header><div class=breadcrumbs><a href=https://hynn01.github.io/dslinter/>Home</a></div>
<h1>Code Smells</h1>
</header>
<article class=post-entry>
<header class=entry-header>
<h2>Randomness Uncontrolled
</h2>
</header>
<section class=entry-content>
<p>Description Debugging is easier if the results are reproducible when developing ML systems. Also, reproducibility helps conduct studies based on previous models. Setting random seeds significantly contributes to the reproducibility of ML applications. There are several scenes that a random seed is involved. In Scikit-Learn, randomness is inherently involved in some estimators(e.g., Random Forest) and cross-validation splitters. If the random seed is not set, the random forest algorithm might provide a different result every time it runs, and the dataset split by cross-validation splitter will also be different next time it runs....</p>
</section>
<footer class=entry-footer></footer>
<a class=entry-link aria-label="post link to Randomness Uncontrolled" href=https://hynn01.github.io/dslinter/code-smells/randomness-uncontrolled/></a>
</article>
<article class=post-entry>
<header class=entry-header>
<h2>In Place APIs Misused
</h2>
</header>
<section class=entry-content>
<p>Description “In-place operation is an operation that directly changes the content of a given linear algebra, vector, matrices (Tensor) without making a copy.” Due to the nature of the in-place operation, the in-place APIs are easily misused. Developers sometimes forget to set the in-place parameter in APIs to true while not assigning the new result to a variable, causing potential silent bugs. The data is not updated in this way, but the developer thinks it is and might not be able to find where the bug is....</p>
</section>
<footer class=entry-footer></footer>
<a class=entry-link aria-label="post link to In Place APIs Misused" href=https://hynn01.github.io/dslinter/code-smells/in-place-apis-misused/></a>
</article>
<article class=post-entry>
<header class=entry-header>
<h2>Unnecessary Iteration
</h2>
</header>
<section class=entry-content>
<p>Description “Vectorization is the process of converting an algorithm from operating on a single value at a time to operating on a set of values (vector) at one time.” ML applications are often data-intensive and need to apply an operation on a dataset. Therefore, it is better to adopt vectorized solution instead of iterating over data. As stated in the Pandas documentation : ”Iterating through pandas objects is generally slow. In many cases, iterating manually over the rows is not needed and can be avoided”....</p>
</section>
<footer class=entry-footer></footer>
<a class=entry-link aria-label="post link to Unnecessary Iteration" href=https://hynn01.github.io/dslinter/code-smells/unnecessary-iteration/></a>
</article>
<article class=post-entry>
<header class=entry-header>
<h2>No Scaling Before Scaling-sensitive Operation
</h2>
</header>
<section class=entry-content>
<p>Description Principle Component Analysis (PCA) is used for finding the components that maximize the data’s variation and reduce its dimensions, which is an essential data processing method. Scaling is pretty crucial to PCA because of the way the principal components are calculated. If one variable is on a larger scale than another, it will dominate the PCA procedure. Similarly, there are some other scaling-sensitive operations. Support Vector Machine (SVM), Stochastic Gradient Descent (SGD), Multi-layer Perceptron classifier, L1 and L2 regularization are all sensitive to feature scaling....</p>
</section>
<footer class=entry-footer></footer>
<a class=entry-link aria-label="post link to No Scaling Before Scaling-sensitive Operation" href=https://hynn01.github.io/dslinter/code-smells/no-scaling-before-scaling-sensitive-operation/></a>
</article>
<article class=post-entry>
<header class=entry-header>
<h2>Data Leakage
</h2>
</header>
<section class=entry-content>
<p>Description “Data Leakage happens when the data you are using to train a machine learning algorithm happens to have the information you are trying to predict.” It results in overly optimistic performance during testing and poor performance in real-world usage. There are two main sources of data leakage: leaky predictors and a leaky validation strategy. Leaky predictors refer to the situation where some features updated or created after the target value is realized are included....</p>
</section>
<footer class=entry-footer></footer>
<a class=entry-link aria-label="post link to Data Leakage" href=https://hynn01.github.io/dslinter/code-smells/data-leakage/></a>
</article>
<article class=post-entry>
<header class=entry-header>
<h2>Hyperparameter not Explicitly Set
</h2>
</header>
<section class=entry-content>
<p>Description Hyperparameters are ML algorithm parameters used to control the learning process and are usually determined before the actual process starts. Hyperparameters should be set and tuned because they improve prediction quality and reproducibility. Tuning hyperparameters can lead to higher prediction quality because the default parameters of the learning algorithm may not be optimal for a given data or problem, and may lead to local optima. These parameters directly control the behavior of the training algorithm and therefore have a significant impact on the performance of the model....</p>
</section>
<footer class=entry-footer></footer>
<a class=entry-link aria-label="post link to Hyperparameter not Explicitly Set" href=https://hynn01.github.io/dslinter/code-smells/hyperparameter-not-explicitly-set/></a>
</article>
<article class=post-entry>
<header class=entry-header>
<h2>Memory not Freed
</h2>
</header>
<section class=entry-content>
<p>Description ML application training is memory-consuming, and thus, it is essential to free memory in time. Some APIs are provided to alleviate the run-out-of-memory issue in deep learning libraries. TensorFlow’s documentation notes that if the model is created in a loop, it is suggested to use clear\_session() in the loop. Meanwhile, the GitHub repository “Pytorch best practice” recommends using .detach() to detach the tensor whenever possible. We suggest developers check whether they use these APIs to free the memory whenever possible in their code....</p>
</section>
<footer class=entry-footer></footer>
<a class=entry-link aria-label="post link to Memory not Freed" href=https://hynn01.github.io/dslinter/code-smells/memory-not-freed/></a>
</article>
<article class=post-entry>
<header class=entry-header>
<h2>Deterministic Algorithm Not Used
</h2>
</header>
<section class=entry-content>
<p>Description Some libraries provide APIs for developers to use the deterministic algorithm. Using deterministic algorithms is another effort that can be made to improve reproducibility. In PyTorch, it is suggested to set torch.use_deterministic_algorithms(True) when debugging. However, the application will perform slower if this option is set, so it is suggested not to use it in the deploy stage. Developers should be aware of this setting during the development process.
Type Generic...</p>
</section>
<footer class=entry-footer></footer>
<a class=entry-link aria-label="post link to Deterministic Algorithm Not Used" href=https://hynn01.github.io/dslinter/code-smells/deterministic-algorithm-not-used/></a>
</article>
<article class=post-entry>
<header class=entry-header>
<h2>Missing the Mask of Invalid Value
</h2>
</header>
<section class=entry-content>
<p>Description Several posts on Stack Overflow talk about the bugs that are not easy to discover caused by the log parameter approaching zero. In this kind of program, the log function variable turns to zero and raises an error during the training process. However, the error’s stack trace did not directly point to the line of code that the bug exist. This kind of problem is not easy to debug and might take a long training time to find....</p>
</section>
<footer class=entry-footer></footer>
<a class=entry-link aria-label="post link to Missing the Mask of Invalid Value" href=https://hynn01.github.io/dslinter/code-smells/missing-the-mask-of-invalid-value/></a>
</article>
<article class=post-entry>
<header class=entry-header>
<h2>Nan Equality Misused
</h2>
</header>
<section class=entry-content>
<p>Description While None == None evaluates to True, numpy.nan == numpy.nan evaluates to False. As Pandas treats None like numpy.nan for simplicity and performance reasons, a comparison of DataFrame elements with numpy.nan always return False . Therefore, developers need to be careful when using the NaN comparision in Numpy and Pandas. Otherwise, it may lead to unintentional behavior in the code.
Type API Specific
Existing Stage Data Preparation
Effect Error-prone...</p>
</section>
<footer class=entry-footer></footer>
<a class=entry-link aria-label="post link to Nan Equality Misused" href=https://hynn01.github.io/dslinter/code-smells/nan-equality-misused/></a>
</article>
<footer class=page-footer>
<nav class=pagination>
<a class=next href=https://hynn01.github.io/dslinter/code-smells/page/2/>Next Page »</a>
</nav>
</footer>
</main>
<footer class=footer>
<span>&copy; 2022 <a href=https://hynn01.github.io/dslinter/>DSLinter - Linter for Machine Learning - Specific Code Smells</a></span>
<span>
Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a>
</span>
</footer>
<a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a>
<script>let menu=document.getElementById('menu');menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(a=>{a.addEventListener("click",function(b){b.preventDefault();var a=this.getAttribute("href").substr(1);window.matchMedia('(prefers-reduced-motion: reduce)').matches?document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView({behavior:"smooth"}),a==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${a}`)})})</script>
<script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script>
<script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove('dark'),localStorage.setItem("pref-theme",'light')):(document.body.classList.add('dark'),localStorage.setItem("pref-theme",'dark'))})</script>
</body>
</html>